generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model account_user {
  id              Int     @id @default(autoincrement())
  username        String  @unique @db.VarChar(150)
  password        String  @db.VarChar(128)
  first_name      String  @db.VarChar(150)
  last_name       String  @db.VarChar(150)
  email           String  @unique @db.VarChar(254)
  document_number String? @unique @db.VarChar(30)
  phone_number    String? @db.VarChar(16)

  company_id    Int
  company       account_company @relation(fields: [company_id], references: [id])
  is_active     Boolean
  is_confirmed  Boolean
  is_newsletter Boolean?
  is_deleted    Boolean
  is_superuser  Boolean
  is_staff      Boolean

  created_at DateTime  @default(now())
  updated_at DateTime  @default(now())
  deleted_at DateTime? @db.Timestamptz(6)
  last_login DateTime? @default(now())
}

model account_company {
  id         Int            @id @default(autoincrement())
  company    String         @unique @db.VarChar(255)
  code       String         @unique @db.Uuid
  front_url  String         @db.VarChar(255)
  created_at DateTime       @default(now())
  updated_at DateTime       @default(now())
  users      account_user[]
}
